@using Microsoft.AspNetCore.Components

<div class="profile-card @CssClass" style="@Style">
    @if (!string.IsNullOrEmpty(Title) || ShowActions)
    {
        <div class="card-header">
            @if (!string.IsNullOrEmpty(Title))
            {
                <div class="card-title-section">
                    @if (!string.IsNullOrEmpty(Icon))
                    {
                        <MudIcon Icon="@Icon" Size="Size.Small" Class="card-icon" />
                    }
                    <h3 class="card-title">@Title</h3>
                    @if (!string.IsNullOrEmpty(Badge))
                    {
                        <div class="card-badge @BadgeVariant">@Badge</div>
                    }
                </div>
            }

            @if (ShowActions)
            {
                <div class="card-actions">
                    @if (ActionIcon != null)
                    {
                        <MudIconButton Icon="@ActionIcon"
                                       Size="Size.Small"
                                       OnClick="OnActionClick"
                                       Class="card-action-btn"
                                       aria-label="@ActionLabel" />
                    }
                    @Actions
                </div>
            }
        </div>
    }

    <div class="card-content">
        @if (!string.IsNullOrEmpty(Subtitle))
        {
            <p class="card-subtitle">@Subtitle</p>
        }

        @ChildContent
    </div>

    @if (Footer != null)
    {
        <div class="card-footer">
            @Footer
        </div>
    }
</div>

@code {
    [Parameter] public string? Title { get; set; }
    [Parameter] public string? Subtitle { get; set; }
    [Parameter] public string? Icon { get; set; }
    [Parameter] public string? Badge { get; set; }
    [Parameter] public string BadgeVariant { get; set; } = "neutral";
    [Parameter] public string? ActionIcon { get; set; }
    [Parameter] public string? ActionLabel { get; set; }
    [Parameter] public EventCallback OnActionClick { get; set; }
    [Parameter] public bool ShowActions { get; set; } = false;
    [Parameter] public RenderFragment? Actions { get; set; }
    [Parameter] public RenderFragment? Footer { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public string CssClass { get; set; } = "";
    [Parameter] public string? Style { get; set; }
}
